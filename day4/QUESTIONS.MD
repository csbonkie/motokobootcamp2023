Q1: Heap size 4GB and it can not be preserved during an upgrade, same source as of day1: https://forum.dfinity.org/t/increased-canister-smart-contract-memory/6148/144
Q2: A principal can have 4,294,967,295 subaccounts
Q3: In that case it should be safe, as the result of the greet  